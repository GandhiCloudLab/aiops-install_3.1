source ./99_config-global.sh

clear

echo "***************************************************************************************************************************************************"
echo "***************************************************************************************************************************************************"
echo " ðŸš€ AI OPS - Check System"
echo "***************************************************************************************************************************************************"


echo "--------------------------------------------------------------------------------------------"
echo "âœ… Check ASM Connection (you should see no errors)"
echo "--------------------------------------------------------------------------------------------"

oc exec $(oc get pod -n $WAIOPS_NAMESPACE |grep topology | awk '{print $1}') -n zen -- curl -X GET -k "https://localhost:8443/ready?send_additional_info=true" -H "accept: application/json" 

echo ""
echo ""
echo "--------------------------------------------------------------------------------------------"
echo "âœ… Check Topology Pods (must all be Running 1/1 or Completed)"
echo "--------------------------------------------------------------------------------------------"

oc get -n $WAIOPS_NAMESPACE pods | grep topology-


echo ""
echo ""
echo "--------------------------------------------------------------------------------------------"
echo "âœ… Check Gateway Pods (must all be Running 1/1 or Completed)"
echo "--------------------------------------------------------------------------------------------"

oc get -n $WAIOPS_NAMESPACE pods | grep nikh-




echo ""
echo ""
echo "--------------------------------------------------------------------------------------------"
echo "âœ… Check Bookinfo Demo (must be Running 1/1)"
echo "--------------------------------------------------------------------------------------------"

oc get -n bookinfo pods | grep ratings

echo ""
echo ""
echo "--------------------------------------------------------------------------------------------"
echo "âœ… Check RobotShop Demo (must be Running 1/1)"
echo "--------------------------------------------------------------------------------------------"

oc get -n robot-shop pods | grep catalogue



